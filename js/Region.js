(function(b){var c={};var a={CityID:0,CityName:"",AreaID:0,AreaName:"",ProvinceID:0,ProvinceName:"",};b.fn.Region=function(e,g){if(typeof e=="string"){return b.fn.Region.methods[e](this,g)}var f={ProvinceID:0,CityID:0,AreaID:0,City:"",Area:"",Province:"",CityUrl:"",AreaUrl:"",ProvinceUrl:""};c=b.extend(f,e);b("#"+c.Province).change(function(){var d=b(this).val();b(this).Region("InitCity",{ProvinceID:d})});b("#"+c.City).change(function(){var d=b(this).val();b(this).Region("InitArea",{CityID:d})});b(this).Region("InitProvince")};b.fn.Region.methods={GetData:function(d){return{CityID:parseInt(b("#"+c.City).val()),CityName:b("#"+c.City).find("option:selected").text(),AreaID:parseInt(b("#"+c.Area).val()),AreaName:b("#"+c.Area).find("option:selected").text(),ProvinceID:parseInt(b("#"+c.Province).val()),ProvinceName:b("#"+c.Province).find("option:selected").text(),}},SetData:function(e,d){b("#"+c.Province).val(d.ProvinceID);b(e).Region("InitCity",d)},InitProvince:function(e,d){Post(c.ProvinceUrl,{},function(f){var g="";b.each(f,function(j,h){g+='<option value="'+h.ID+'">'+h.Name+"</option>"});b("#"+c.Province).html(g);if(c.ProvinceID>0){b("#"+c.Province).val(c.ProvinceID)}b(e).Region("InitCity",{ProvinceID:b("#"+c.Province).val()})})},InitCity:function(e,d){Post(c.CityUrl,{ProvinceID:d.ProvinceID},function(f){var g="";b.each(f,function(j,h){g+='<option value="'+h.ID+'">'+h.Name+"</option>"});b("#"+c.City).html(g);if(c.CityID>0){b("#"+c.City).val(c.CityID);c.CityID=0}if(d.CityID!=undefined){b("#"+c.City).val(d.CityID);b(e).Region("InitArea",d)}else{b(e).Region("InitArea",{CityID:b("#"+c.City).val()})}})},InitArea:function(e,d){Post(c.AreaUrl,{CityID:d.CityID},function(f){var g="";b.each(f,function(j,h){g+='<option value="'+h.ID+'">'+h.Name+"</option>"});b("#"+c.Area).html(g);if(c.AreaID>0){b("#"+c.Area).val(c.AreaID)}if(d.AreaID!=undefined){b("#"+c.Area).val(d.AreaID)}})}}})(jQuery);